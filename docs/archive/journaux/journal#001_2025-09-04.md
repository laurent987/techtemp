### Date

2025-09-04

### Numéro d'entrée

001

### Objectif

Poser la base contractuelle du service central (service-app) : messages MQTT, schéma de données SQLite minimal, endpoints HTTP, répartition modulaire et signatures des fonctions.

### Décisions

- Le service est écrit en **Node.js (ESM)**, avec **JSDoc** pour documenter les types et signatures (simple à démarrer, migrable en TypeScript plus tard).
- SQLite avec **WAL** et **foreign_keys** activés.
- Ingestion via **MQTT** (QoS 1), validation par **schéma** (Joi) — mais ici on décrit le **contrat**, pas l’implémentation.
- Exposition HTTP minimaliste (Express) : `/health` et `/api/v1/readings/latest`.

### Artifacts produits

- Contrat MQTT
- Contrat DB
- Contrat API
- Arborescence logique (modules) & rôles
- Interfaces (signatures de fonctions) par module

### Commandes exécutées (optionnel)

_No response_

### Critères d’acceptation

- [x] Contrat de topic MQTT et payload **définis**.
- [x] Schéma (contractuel) des tables SQLite **décrit**.
- [x] API minimal (endpoints + modèles de réponse) **spécifié**.
- [x] **Arborescence** des modules + **rôles** + **signatures** rédigés.

### Suivi / TODO

_No response_